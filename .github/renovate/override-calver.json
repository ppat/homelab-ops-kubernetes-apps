{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "packageRules": [
    {
      "automerge": true,
      "commitBody": "",
      "description": "update calver versioned packages managed by custom.regex manager",
      "matchManagers": [
        "custom.regex"
      ],
      "matchPackageNames": [
        "minio/minio"
      ],
      "matchUpdateTypes": [
        "major",
        "minor",
        "patch"
      ],
      "minimumReleaseAge": "14 days",
      "semanticCommits": "enabled",
      "semanticCommitScope": "{{#if (equals (lookup (split packageFileDir '/') 0) 'apps')}}apps{{else}}infra{{/if}}-{{ lookup (split packageFileDir '/') 2 }}",
      "semanticCommitType": "{{#if (or isMajor isMinor)}}feat{{else if isPatch}}fix{{else}}chore{{/if}}"
    },
    {
      "automerge": true,
      "commitBody": "",
      "description": "update calver versioned packages managed by kubernetes manager",
      "matchManagers": [
        "kubernetes"
      ],
      "matchPackageNames": [
        "pihole/pihole",
        "visibilityspots/cloudflared"
      ],
      "matchUpdateTypes": [
        "major",
        "minor",
        "patch"
      ],
      "minimumReleaseAge": "14 days",
      "semanticCommits": "enabled",
      "semanticCommitScope": "{{#if (equals (lookup (split packageFileDir '/') 0) 'apps')}}apps{{else}}infra{{/if}}-{{ lookup (split packageFileDir '/') 2 }}",
      "semanticCommitType": "{{#if (or isMajor isMinor)}}feat{{else if isPatch}}fix{{else}}chore{{/if}}"
    },
    {
      "automerge": true,
      "commitBody": "",
      "description": "update calver versioned packages managed by flux manager",
      "matchManagers": [
        "flux"
      ],
      "matchPackageNames": [
        "self-host"
      ],
      "matchUpdateTypes": [
        "major",
        "minor",
        "patch"
      ],
      "minimumReleaseAge": "14 days",
      "semanticCommits": "enabled",
      "semanticCommitScope": "{{#if (equals (lookup (split packageFileDir '/') 0) 'apps')}}apps{{else}}infra{{/if}}-{{ lookup (split packageFileDir '/') 2 }}",
      "semanticCommitType": "{{#if (or isMajor isMinor)}}feat{{else if isPatch}}fix{{else}}chore{{/if}}"
    }
  ]
}
