---
## Configure grafana dashboard providers
## ref: http://docs.grafana.org/administration/provisioning/#dashboards
## `path` must be /var/lib/grafana/dashboards/<provider_name>
dashboardProviders:
  dashboardproviders.yaml:
    apiVersion: 1
    providers:
    - name: default
      disableDeletion: false
      editable: true
      folder: ""
      options:
        path: /var/lib/grafana/dashboards/default
      orgId: 1
      type: file
    - name: flux
      disableDeletion: false
      editable: true
      folder: Flux
      options:
        path: /var/lib/grafana/dashboards/flux
      orgId: 1
      type: file
    - name: unpoller
      disableDeletion: false
      editable: true
      folder: "UniFi Poller"
      options:
        path: /var/lib/grafana/dashboards/unpoller
      orgId: 1
      type: file

## Configure grafana dashboard to import
## NOTE: To use dashboards you must also enable/configure dashboardProviders
## ref: https://grafana.com/dashboards
##
## dashboards per provider, use provider name as key.
##
dashboards:
  default:
    cert-manager:
      url: https://raw.githubusercontent.com./monitoring-mixins/website/master/assets/cert-manager/dashboards/cert-manager.json
      datasource: prometheus
    external-dns:
      # renovate: depName="ExternalDNS"
      gnetId: 15038
      revision: 3
      datasource: prometheus
    external-secrets:
      # renovate-gh-raw-url: datasource=github-releases depName=external-secrets/external-secrets
      url: https://raw.githubusercontent.com./external-secrets/external-secrets/v0.10.3/docs/snippets/dashboard.json
      datasource: prometheus
    minio:
      # renovate: depName="MinIO"
      gnetId: 13502
      revision: 26
      datasource:
      - { name: DS_PROMETHEUS, value: prometheus }
    longhorn:
      # renovate: depName="Longhorn"
      gnetId: 16999
      revision: 9
      datasource:
      - { name: datasource, value: prometheus }
    metallb:
      # renovate: depName="MetalLB"
      gnetId: 20162
      revision: 5
      datasource:
      - { name: DS_PROMETHEUS, value: prometheus }
    spegel:
      # renovate: depName="Spegel"
      gnetId: 18089
      revision: 1
      datasource:
      - name: DS_PROMETHEUS
        value: prometheus
    traefik:
      # renovate-gh-raw-url: datasource=github-releases depName=traefik/traefik
      url: https://raw.githubusercontent.com/traefik/traefik/v3.1.4/contrib/grafana/traefik-kubernetes.json
      datasource:
      - { name: DS_PROMETHEUS, value: prometheus }
  flux:
    flux-cluster:
      url: https://raw.githubusercontent.com./fluxcd/flux2-monitoring-example/main/monitoring/configs/dashboards/cluster.json
      datasource: prometheus
    flux-control-plane:
      url: https://raw.githubusercontent.com./fluxcd/flux2-monitoring-example/main/monitoring/configs/dashboards/control-plane.json
      datasource: prometheus
    flux-logs:
      url: https://raw.githubusercontent.com./fluxcd/flux2-monitoring-example/main/monitoring/configs/dashboards/logs.json
      datasource: prometheus
  unpoller:
    unifi-insights:
      # renovate: depName="UniFi-Poller: Client Insights"
      gnetId: 11315
      revision: 9
      datasource: prometheus
    unifi-network-sites:
      # renovate: depName="UniFi-Poller: Network Sites"
      gnetId: 11311
      revision: 5
      datasource: prometheus
    unifi-usw:
      # renovate: depName="UniFi-Poller: USW Insights"
      gnetId: 11312
      revision: 9
      datasource:
      - name: "DS_PROMETHEUS"
        value: prometheus
    unifi-uap:
      # renovate: depName="UniFi-Poller: UAP Insights"
      gnetId: 11314
      revision: 10
      datasource:
      - name: "DS_PROMETHEUS"
        value: prometheus
