---
# Template for checking Ready condition
apiVersion: chainsaw.kyverno.io/v1alpha1
kind: Test
spec:
  steps:
  - try:
    - wait:
        apiVersion: ($apiVersion)  # e.g., source.toolkit.fluxcd.io/v1
        kind: ($kind)              # e.g., GitRepository
        name: ($name)              # e.g., test-source
        namespace: ($namespace)     # e.g., flux-system
        timeout: ($timeout)        # e.g., 1m
        for:
          condition:
            name: Ready
            value: "true"
